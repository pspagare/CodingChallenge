<form [formGroup]="form" (ngSubmit)="onSubmit()" nz-form layout="vertical">
    <div formArrayName="leaveArray">
      <div
        *ngFor="let leaveGroup of form.get('leaveArray')?.controls; let i = index"
        [formGroupName]="i"
        style="margin-bottom: 20px;"
      >
        <nz-row [nzGutter]="16">
          <nz-col [nzSpan]="10">
            <nz-form-item>
              <nz-form-label>Start Date</nz-form-label>
              <nz-form-control nzErrorTip="Start date is required">
                <input nz-input type="date" formControlName="startDate" />
              </nz-form-control>
            </nz-form-item>
          </nz-col>

          <nz-col [nzSpan]="10">
            <nz-form-item>
              <nz-form-label>End Date</nz-form-label>
              <nz-form-control nzErrorTip="End date is required">
                <input nz-input type="date" formControlName="endDate" />
              </nz-form-control>
            </nz-form-item>
          </nz-col>

          <nz-col [nzSpan]="4" style="display: flex; align-items: center;">
            <button nz-button nzType="default" nzDanger (click)="removeLeave(i)">
              <span nz-icon nzType="delete"></span>
            </button>
          </nz-col>
        </nz-row>
      </div>
    </div>

    <div style="margin-top: 12px;">
      <button nz-button nzType="dashed" (click)="addLeave()">
        <span nz-icon nzType="plus"></span> Add Leave
      </button>
    </div>

    <div style="margin-top: 24px;">
      <button nz-button nzType="primary" htmlType="submit" [disabled]="form.invalid">Update Leave Days</button>
      <button nz-button nzType="default" style="margin-left: 8px" (click)="cancelEdit()">Cancel</button>
    </div>
  </form>
